-- 剧情五
Story5 = MyStory:new()

function Story5:new ()
  local data = {
    title = '第五关',
    name = '无名称',
    desc = '无描述',
    tips = {
      '无事。',
    },
    index = 5,
    initPos = MyPosition:new(324.5, 57.5, 0.5),
    luckyBlockData = { -- x, y, z, category, num
      { 324, 60, -8, 3, 1 }, -- 蘑菇
      { 324, 65, -190, 2, 1 }, -- 星星
    },
    maybeKeyBlockData = {
      { 324, 12, -42 },
      { 324, 15, -57 },
      { 324, 17, -77 },
    }, -- 城堡钥匙可能出现的方块位置数据
    sureHideBlockData = {
      { 324, 60, -325, 5, 1 }, -- 复活药丸
    }, -- 确定的隐藏方块
    hideBlockPosData = {
      { 324, 60.5, -12 },
      { 324, 60.5, -13 },
      { 324, 60.5, -14 },
      { 324, 60.5, -15 },
      { 324, 60.5, -16 },
      { 324, 60.5, -18 },
      { 324, 60.5, -19 },
      { 324, 60.5, -20 },
      { 324, 60.5, -21 },
      { 324, 60.5, -22 },
      { 324, 60.5, -224 },
      { 324, 60.5, -225 },
      { 324, 60.5, -226 },
      { 324, 60.5, -227 },
      { 324, 60.5, -228 },
      { 324, 60.5, -229 },
      { 324, 60.5, -230 },
      { 324, 60.5, -231 },
      { 324, 60.5, -232 },
      { 324, 60.5, -233 },
      { 324, 60.5, -234 },
      { 324, 60.5, -235 },
      { 324, 60.5, -236 },
      { 324, 60.5, -237 },
      { 324, 60.5, -238 },
      { 324, 60.5, -239 },
      { 324, 60.5, -241 },
      { 324, 60.5, -242 },
      { 324, 60.5, -243 },
      { 324, 60.5, -244 },
      { 324, 60.5, -245 },
      { 324, 60.5, -246 },
      { 324, 60.5, -247 },
      { 324, 60.5, -248 },
      { 324, 60.5, -249 },
      { 324, 60.5, -250 },
      { 324, 60.5, -251 },
      { 324, 60.5, -252 },
      { 324, 60.5, -253 },
      { 324, 60.5, -254 },
      { 324, 60.5, -255 },
      { 324, 60.5, -256 },
      { 324, 60.5, -258 },
      { 324, 60.5, -259 },
      { 324, 60.5, -260 },
      { 324, 60.5, -261 },
    }, -- 隐藏方块位置数据
    hideBlockAreas = {}, -- 隐藏方块区域
    enterPosData = {
      { 324.5, 60.5, -16.5 },
      { 324.5, 61.5, -28.5 },
      { 324.5, 60.5, -102.5 },
      { 324.5, 60.5, -110.5 },
      { 324.5, 60.5, -118.5 },
      { 324.5, 60.5, -196.5 },
      { 324.5, 60.5, -213.5 },
      { 324.5, 60.5, -263.5 },
      { 324.5, 61.5, -292.5 },
      { 324.5, 58.5, -302.5 },
    }, -- 进入水管位置数据
    enterPos = nil, -- 进入水管区域位置
    enterAreas = {}, -- 进入水管区域
    enterArea = -1, -- 进入地下区域
    leaveArea = -1, -- 离开地下区域
    backwardTimer = 300, -- 倒计时
    undergroundBeginPos = MyPosition:new(324.5, 18, 2.5), -- 刚进入地下水管的位置
    undergroundEndPos = MyPosition:new(324.5, 7.5, -118.5), -- 准备出地下水管的位置
    passPos = MyPosition:new(324, 57, -330), -- 过关区域位置
    passArea = -1 -- 过关区域
  }
  self:checkData(data)

  setmetatable(data, self)
  self.__index = self
  return data
end
